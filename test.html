
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Donut Charts</title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script>
window.onload = function runD3code() {
var w = 120,
    h = 120;

var dataset = {
/*
Warning - 89
Questioned - 2
Caution - 45
Positive - 154
Neutral - 631
*/
  "citingdecisionanalysis": [{
    "props": {
      "text": "Warning",
      "count": 89
    }
  }, {
    "props": {
      "text": "Questioned",
      "count": 2
    }
  }, {
    "props": {
      "text": "Caution",
      "count": 45
    }
  }, {
    "props": {
      "text": "Positive",
      "count": 154
    }
  }, {
    "props": {
      "text": "Neutral",
      "count": 631
    }
  }]
}



var color = d3.scale.ordinal()
  .range(['#AF002B', '#E98310', '#FFCC00 ', '#19A20F', '#003399'])
  .domain(["Warning", "Questioned", "Caution", "Positive", "Neutral"]);

var pieSliceScale = d3.scale.linear()
  .domain([d3.min(dataset.citingdecisionanalysis, function(d) {
    return d.props.count;
  }), d3.mean(dataset.citingdecisionanalysis, function(d) {
    return d.props.count;
  })])
  .range([10, 100]);

var canvas = d3.select("body").append("svg")
    .attr("width", w)
    .attr("height", h);


var group = canvas.append("g")
    .attr("transform", "translate(" + w / 2 + "," + h / 2 + ")");


var r = Math.min(w, h) / 2;

var arc = d3.svg.arc()
    .outerRadius(r - 10)
    .innerRadius(r-25);

var arc2 = d3.svg.arc()
    .outerRadius(r-5)
    .innerRadius(r-25);


var pie = d3.layout.pie()
  .value(function(d) {
    return pieSliceScale(d.props.count);
  })
  .sort(null);

var arcs = group.selectAll(".arc")
    .data(pie(dataset.citingdecisionanalysis))
    .enter()
    .append("g")
    .attr("class", "arc");

var asdf = arcs.append("path")
    .attr("d", arc)
    .attr('stroke', '#fff')
    .attr('stroke-width', 3)
    .attr("class", function (d) {
        return d.data.props.text;
    })
    .attr("fill", function (d) {
    return color(d.data.props.text);
})


asdf.on("mouseover", function (d) {
    d3.select(this).transition().duration(200).attr("d", arc2);
});

asdf.on("mouseout", function (d, i) {
    d3.select(this).transition().duration(200).attr("d", arc);
});


};
</script>
  </head>
  <body>

  </body>
</html>
<style>
  body {
   background:red;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  position: relative;
  margin:0px;
}

text {
  font: 10px sans-serif;
}

form {
  position: absolute;
  right: 10px;
  top: 10px;
}

    
svg .arc2 {
   opacity: 0.5;
}
</style>
    

